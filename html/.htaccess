<IfModule mod_rewrite.c> # Will check if maintenance mode is enabled and will redirect to maintenance.php if that is true
   # activate mod_rewrite
   RewriteEngine On
 
   # check if a file exists called "maintenance-mode-on" in the document root
   RewriteCond %{DOCUMENT_ROOT}/maintenance-mode -f
 
   # safety check to prevent redirect loops 
   RewriteCond %{REQUEST_URI} !/maintenance.php$
   
   # redirect internally all requests to maintenance.php 
   RewriteRule $ /maintenance.php [L]
</IfModule>
#Will redirect from all json files
RedirectMatch 403 \.(json)$
#All invalid sites are directed to the main page index.php
ErrorDocument 403 /index.php
ErrorDocument 404 /index.php

# Used to reomve the index.php from url
Options +FollowSymlinks -Indexes
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ %1 [L,R=301,NE]
RewriteCond %{THE_REQUEST} /index\.php [NC]
RewriteCond %{REQUEST_URI} ^(.*/)index\.php$ [NC]
RewriteRule ^ %1 [L,R=301,NE]